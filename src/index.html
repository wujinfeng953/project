<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页</title>
    <link rel="stylesheet" href="css/jd.css">
</head>

<body style="height: 1500px;">
    <div class="header">
        <div class="login">
            <a href="registry.html">请注册</a>
            <a href="login.html">请登录</a>
        </div>
        <div class="admin" style="display: none;">
            <span></span>：欢迎光临
            <a href="javascript:;">退出</a>
        </div>
    </div>
    <div class="nav"></div>
    <!-- 二级菜单 -->
    <!-- 布局：右侧的大盒子，叠在左侧的ul的上面一点 -->
    <div class="banner">
        <div class="menu">
            <ul>
                <li>
                    <a href="#">家用电器</a>
                </li>
                <li>
                    <a href="#">手机</a><span>/</span><a href="#">运营商</a><span>/</span><a href="#">数码</a>
                </li>
                <li>
                    <a href="#">电脑</a><span>/</span><a href="#">办公</a>
                </li>
                <li>
                    <a href="#">家居</a><span>/</span><a href="#">家具</a><span>/</span><a href="#">家装</a><span>/</span><a href="#">厨具</a>
                </li>
                <li>
                    <a href="#">男装</a><span>/</span><a href="#">女装</a><span>/</span><a href="#">童装</a><span>/</span><a href="#">内衣</a>
                </li>
                <li>
                    <a href="#">美妆</a><span>/</span><a href="#">个护清洁</a><span>/</span><a href="#">宠物</a>
                </li>
                <li>
                    <a href="#">女鞋</a><span>/</span><a href="#">箱包</a><span>/</span><a href="#">钟表</a><span>/</span><a href="#">珠宝</a>
                </li>
                <li>
                    <a href="#">男鞋</a><span>/</span><a href="#">运动</a><span>/</span><a href="#">户外</a>
                </li>
                <li>
                    <a href="#">房产</a><span>/</span><a href="#">汽车</a><span>/</span><a href="#">汽车用品</a>
                </li>
                <li>
                    <a href="#">母婴</a><span>/</span><a href="#">玩具乐器</a>
                </li>
                <li>
                    <a href="#">食品</a><span>/</span><a href="#">酒类</a><span>/</span><a href="#">生鲜</a><span>/</span><a href="#">特产</a>
                </li>
                <li>
                    <a href="#">艺术</a><span>/</span><a href="#">礼品鲜花</a><span>/</span><a href="#">农资绿植</a>
                </li>
                <li>
                    <a href="#">医药保健</a><span>/</span><a href="#">计生情趣</a>
                </li>
                <li>
                    <a href="#">图书</a><span>/</span><a href="#">文娱</a><span>/</span><a href="#">教育</a><span>/</span><a href="#">电子书</a>
                </li>
                <li>
                    <a href="#">机票</a><span>/</span><a href="#">酒店</a><span>/</span><a href="#">旅游</a><span>/</span><a href="#">生活</a>
                </li>
                <li>
                    <a href="#">理财</a><span>/</span><a href="#">众筹</a><span>/</span><a href="#">白条</a><span>/</span><a href="#">保险</a>
                </li>
                <li>
                    <a href="#">安装</a><span>/</span><a href="#">维修</a><span>/</span><a href="#">清洗</a><span>/</span><a href="#">二手</a>
                </li>
                <li>
                    <a href="#">工业品</a>
                </li>
            </ul>
            <div class="cartlist">
                <div class="item">
                    <a href="list.html">模拟跳转商品列表页</a></div>
                <div class="item">第二块内容</div>
                <div class="item">第三块内容</div>
                <div class="item">第四块内容</div>
                <div class="item">354325432532454325</div>
                <div class="item">gfsdgfdsgdsfgdsfgsdfg</div>
                <div class="item">sdfgfdsgdsfg</div>
                <div class="item">ytururyrrtyuytyuyturetewrtewrtrewt</div>
                <div class="item">第四dfsgdfg块内容</div>
                <div class="item">第四fdsgfds块内容</div>
                <div class="item">第四gsfdgfdsg块内容</div>
                <div class="item">第四fdsgfdsgsdf块内容</div>
                <div class="item">第四块内容fadsfdsafsdafdasfdasfasfdasf</div>
                <div class="item">第四块farqewr34内容</div>
                <div class="item">第四块rewqr45325423543254325内容</div>
                <div class="item">第四块bnmnbmhjkyuutu65内容</div>
                <div class="item">第四2343254325块内容</div>
                <div class="item">第四43254354325432543254325块内容</div>
            </div>
        </div>
    </div>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>
    //代码实现
    //1.鼠标移入左侧的li元素，显示右侧的大盒子。
    const $list = $('.menu li');
    const $cartlist = $('.cartlist');
    const $items = $('.item');
    $list.hover(function() {
        $cartlist.show();
        $(this).addClass('active').siblings('li').removeClass('active');
        //切换内容发生改变，不同的li对应不同的内容块。
        $items.eq($(this).index()).show().siblings('.item').hide();

        //改变右侧的大盒子的位置
        let $scrolltop = $(window).scrollTop();
        let $bannertop = $('.banner').offset().top;
        if ($scrolltop > $bannertop) {
            $cartlist.css({
                top: $scrolltop - $bannertop
            });
        } else {
            $cartlist.css({
                top: 0
            });
        }
    }, function() {
        $cartlist.hide();
    });

    //2.鼠标移入右侧的大盒子，大盒子依然显示隐藏
    $cartlist.hover(function() {
        $(this).show();
    }, function() {
        $(this).hide();
    });
</script>

<script>
    //检测是否用户已经登录
    if (localStorage.getItem('loginname')) {
        $('.admin').show();
        $('.login').hide();
        $('.admin span').html(localStorage.getItem('loginname'));
    }

    //退出登录 - 删除本地存储
    $('.admin a').on('click', function() {
        $('.admin').hide();
        $('.login').show();
        localStorage.removeItem('loginname');
    });
</script>

</html>